<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../dist/aiMap.js"></script>
</head>

<body>
    <div id="container" style='width:1024px;height:512px;border:1px solid lightgray;'></div>
    <script>
        window.onload = function () {
            var data = {
                "type": "Feature",
                "properties": {
                    "id": "37",
                    "name": "山东",
                    "cp": [118.7402, 36.4307],
                    "childNum": 17
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [115.4883, 36.167],
                            [115.3125, 36.5186],
                            [115.752, 36.9141],
                            [116.0156, 37.3535],
                            [116.2793, 37.3535],
                            [116.2793, 37.5732],
                            [116.4551, 37.4854],
                            [116.8066, 37.8369],
                            [117.4219, 37.8369],
                            [117.9492, 38.3203],
                            [118.125, 38.1445],
                            [118.916, 38.1445],
                            [119.3555, 37.6611],
                            [119.0039, 37.5293],
                            [119.0039, 37.3535],
                            [119.3555, 37.1338],
                            [119.707, 37.1338],
                            [119.8828, 37.3975],
                            [120.498, 37.8369],
                            [120.5859, 38.1445],
                            [120.9375, 38.4521],
                            [121.0254, 37.8369],
                            [121.2012, 37.6611],
                            [121.9043, 37.4854],
                            [122.168, 37.6172],
                            [122.2559, 37.4854],
                            [122.6074, 37.4854],
                            [122.6953, 37.3535],
                            [122.6074, 36.9141],
                            [122.4316, 36.7822],
                            [121.8164, 36.8701],
                            [121.7285, 36.6943],
                            [121.1133, 36.6064],
                            [121.1133, 36.4307],
                            [121.377, 36.2549],
                            [120.7617, 36.167],
                            [120.9375, 35.8594],
                            [120.6738, 36.0352],
                            [119.707, 35.4639],
                            [119.9707, 34.9805],
                            [119.3555, 35.0244],
                            [119.2676, 35.1123],
                            [118.916, 35.0244],
                            [118.7402, 34.7168],
                            [118.4766, 34.6729],
                            [118.3887, 34.4092],
                            [118.2129, 34.4092],
                            [118.125, 34.6289],
                            [117.9492, 34.6729],
                            [117.5977, 34.4531],
                            [117.334, 34.585],
                            [117.2461, 34.4531],
                            [116.8066, 34.9365],
                            [116.4551, 34.8926],
                            [116.3672, 34.6289],
                            [116.1914, 34.585],
                            [115.5762, 34.585],
                            [115.4004, 34.8486],
                            [114.7852, 35.0684],
                            [115.0488, 35.376],
                            [115.2246, 35.4199],
                            [115.4883, 35.7275],
                            [116.1035, 36.0791],
                            [115.3125, 35.8154],
                            [115.4883, 36.167]
                        ]
                    ]
                }
            }
            var map = new A.Map('container')

            map.on('mmove', function (p2) {
                document.title = p2.x + ' ' + p2.y
            })

            var ly1 = new A.Layer({
                index: 0,
                title: 'point'
            }).addTo(map)

            data.geometry.coordinates.forEach(ary => {
                ary.forEach(pt => {
                    var tmpPt = map.getMapPoint(new A.Lnglat(pt[0], pt[1]))
                    var tmpCircle = new A.Circle(tmpPt, 1 / 40).addTo(ly1)
                    tmpCircle.fill=true
                })
            })

            var ly2 = new A.Layer({
                index: 1,
                title: 'point'
            }).addTo(map)

            data.geometry.coordinates.forEach(ary => {
                ary.forEach(pt => {
                    var tmpPt = map.getMapPoint(new A.Lnglat(pt[0]*1.1, pt[1]*1.1))
                    var tmpCircle = new A.Circle(tmpPt, 1 / 40).addTo(ly2)
                    tmpCircle.fill=true
                })
            })
            map.setCenter(new A.Lnglat(data.properties.cp),6)

            new A.Circle(new A.Point(0, 0), 1).addTo(ly1)
            new A.Circle(new A.Point(256, 0), 1).addTo(ly1)
            new A.Circle(new A.Point(256, 256), 1).addTo(ly1)
            new A.Circle(new A.Point(0, 256), 1).addTo(ly1)

            map.render()

        }
    </script>
</body>

</html>